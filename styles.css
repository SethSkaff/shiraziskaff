:root {
  --bg: #efeeeb;
  --card: #f8f6f3;
  --ink: #111;
  --muted: #6f675f;
  --line: #d5cec4;
  --accent: #a89475;
  --platinum: #d7d2ca;
}
* { box-sizing: border-box; }
body { margin: 0; font-family: Inter, sans-serif; background: radial-gradient(circle at top,#fefdfb,#efeeeb 62%); color: var(--ink); }
h1, h2, h3, h4, legend { font-family: 'Cormorant Garamond', serif; letter-spacing: .04em; margin: 0 0 .8rem; }

.auth-overlay { position: fixed; inset: 0; background: rgba(8,8,8,.75); backdrop-filter: blur(4px); display: grid; place-items: center; z-index: 30; }
.auth-overlay.hidden { display: none; }
.auth-card { width: min(520px, 92vw); background: #070707; border: 1px solid #2a2a2a; border-radius: 16px; padding: 1.25rem; }
.welcome-image { width: 100%; border-radius: 12px; border: 1px solid #2f2f2f; margin-bottom: 1rem; }
.auth-section { display: grid; gap: .7rem; }
.auth-section.hidden { display: none; }
.auth-card label { color: #bbb3aa; }
.auth-card input, .auth-card select { background: #141414; color: #f8f6f1; border-color: #383838; }
.auth-card button { background: var(--platinum); color: #171717; }
.auth-card button.ghost { background: transparent; color: var(--platinum); border-color: #4d4d4d; }

.topbar { position: sticky; top: 0; z-index: 10; display: flex; justify-content: space-between; align-items: center; padding: .9rem 2rem; background: rgba(248,246,243,.97); border-bottom: 1px solid var(--line); }
.header-logo { height: 68px; max-width: min(420px, 60vw); object-fit: contain; }
nav { display: flex; gap: .5rem; }
.tab-btn { background: transparent; border: 1px solid var(--line); border-radius: 8px; padding: .55rem .9rem; letter-spacing: .08em; text-transform: uppercase; font-size: .72rem; }
.tab-btn.active { background: var(--ink); color: white; border-color: var(--ink); }

main { padding: 1.25rem 2rem 3rem; }
.tab-panel { display: none; }
.tab-panel.active { display: block; }
.card { background: rgba(248,246,243,.88); border: 1px solid var(--line); border-radius: 14px; padding: 1.1rem; }
.form-grid { display: grid; gap: .7rem; }
.two-col { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
.compact { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); align-items: end; }
label { display: grid; gap: .3rem; font-size: .74rem; letter-spacing: .08em; text-transform: uppercase; color: var(--muted); }
input, select, textarea, button { font: inherit; border: 1px solid var(--line); border-radius: 8px; padding: .58rem .7rem; background: white; }
button { cursor: pointer; text-transform: uppercase; font-size: .72rem; letter-spacing: .08em; }
button[type="submit"] { background: #121212; color: white; border-color: #121212; }
.status { font-size: .82rem; color: var(--accent); }

.ghost-inline { background: transparent; color: var(--ink); }
.filter-actions { display: flex; gap: .5rem; flex-wrap: wrap; }
.hint { margin: .2rem 0 0; color: var(--muted); font-size: .78rem; }

.filter-shell { margin-bottom: 1rem; }
.filter-bar { display: grid; grid-template-columns: repeat(12,minmax(0,1fr)); gap: .7rem; }
.filter-bar > * { grid-column: span 2; }
.filter-bar .race-checks, .filter-bar .pair-field { grid-column: span 3; }
.filter-bar button { grid-column: span 2; align-self: end; }

.pair-field, .race-checks { border: 1px solid var(--line); border-radius: 10px; padding: .6rem; }
.pair-field legend, .race-checks legend { padding: 0 .3rem; font-size: .9rem; }
.pair-field > div { display: grid; grid-template-columns: 1fr 1fr; gap: .5rem; }
.race-checks { display: grid; grid-template-columns: repeat(2,minmax(120px,1fr)); gap: .35rem .6rem; }
.race-checks label { text-transform: none; letter-spacing: 0; font-size: .78rem; display: flex; align-items: center; gap: .35rem; }

.dashboard-nav { display: flex; flex-wrap: wrap; gap: .5rem; }
.module-btn { background: transparent; }
.module-btn.active { background: #121212; color: #fff; border-color: #121212; }
.module { display: none; margin-top: .85rem; }
.module.active { display: block; }

.availability-builder, .cropper { border: 1px solid var(--line); border-radius: 10px; padding: .75rem; grid-column: 1 / -1; }
.availability-layout { display: grid; grid-template-columns: 1.2fr .8fr; gap: 1rem; }
.weekday-pills { display: flex; flex-wrap: wrap; gap: .45rem; margin: .45rem 0; }
.weekday-pills label { display: flex; align-items: center; gap: .3rem; border: 1px solid var(--line); border-radius: 18px; padding: .2rem .55rem; text-transform: none; letter-spacing: 0; }
.availability-actions { display: flex; gap: .45rem; margin-top: .4rem; flex-wrap: wrap; align-items: end; }
.availability-actions label { min-width: 170px; }

.crop-controls { display: flex; align-items: center; gap: .6rem; margin: .5rem 0; }
.crop-sliders { display: grid; grid-template-columns: 1fr 1fr; gap: .6rem; }
.crop-preview-wrap { display: grid; grid-template-columns: 300px 1fr; gap: .8rem; margin-top: .7rem; }
.active-crop-preview img { width: 100%; aspect-ratio: 3/4; object-fit: cover; border-radius: 12px; border: 1px solid var(--line); }
.crop-preview { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: .55rem; align-content: start; }
.crop-preview img { width: 100%; aspect-ratio: 3/4; object-fit: cover; border-radius: 10px; border: 1px solid var(--line); opacity: .72; cursor: pointer; }
.crop-preview img.active { opacity: 1; outline: 2px solid #111; }

.escort-grid { margin-top: .9rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 320px)); gap: 1rem; }
.escort-card { border: 1px solid var(--line); border-radius: 14px; overflow: hidden; background: var(--card); }
.carousel { width: 100%; aspect-ratio: 3/4; background-position: center; background-size: cover; position: relative; }
.carousel-nav { position: absolute; inset: auto .6rem .6rem auto; display: flex; gap: .35rem; }
.carousel-nav button { width: 30px; height: 30px; border-radius: 50%; border: 0; background: rgba(0,0,0,.56); color: #fff; }
.escort-body { padding: .88rem; }
.meta { color: var(--muted); font-size: .74rem; line-height: 1.4; }
.list { margin: 0; padding-left: 1rem; display: grid; gap: .4rem; }
.stats { display: grid; grid-template-columns: repeat(2, minmax(140px, 1fr)); gap: .7rem; }
.stats div { border: 1px solid var(--line); border-radius: 10px; background: #fff; padding: .8rem; }

dialog { border: none; border-radius: 14px; width: min(920px, 94vw); }
.quick-filter-card { background: var(--card); border: 1px solid var(--line); border-radius: 12px; padding: 1rem; }
.quick-filter-grid > div { display: grid; grid-template-columns: 180px 1fr; align-items: center; gap: .6rem; margin-bottom: .5rem; }
.quick-filter-grid label { text-transform: uppercase; font-size: .76rem; }
.quick-actions { margin-top: .75rem; display: flex; gap: .5rem; justify-content: flex-end; }
.quick-actions button { width: auto; }

.modal-content { position: relative; }
.close { position: absolute; top: .5rem; right: .5rem; border: none; background: transparent; font-size: 1.2rem; }
.modal-images { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: .6rem; }
.modal-images img { width: 100%; aspect-ratio: 3/4; object-fit: cover; border-radius: 10px; }

@media (max-width: 1100px) {
  .filter-bar { grid-template-columns: repeat(6,minmax(0,1fr)); }
  .filter-bar > * { grid-column: span 3; }
  .filter-bar .race-checks, .filter-bar .pair-field, .filter-bar button { grid-column: span 6; }
  .availability-layout { grid-template-columns: 1fr; }
  .crop-preview-wrap { grid-template-columns: 1fr; }
}
@media (max-width: 760px) {
  .topbar { flex-direction: column; align-items: flex-start; gap: .7rem; }
  main { padding: 1rem; }
  .quick-filter-grid > div { grid-template-columns: 1fr; }
}
